<!DOCTYPE html>
<html lang="en" dir="ltr" onload="consentAlert()">
<head>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  <meta charset="utf-8">
  <link rel="stylesheet" media="screen" href="https://fontlibrary.org//face/source-sans-pro" type="text/css"/>

  <title>Viewer Hub</title>
  <style media="screen">
  body {
    position: relative;
    display: block;
    width: 100vw;
    font-family: 'SourceSansProRegular';
    overflow-y: scroll;
    overflow-x: hidden;
  }
  body::-webkit-scrollbar {
    display: none;
  }
  .info {
    position: relative;
    display: block;
    width: 50%;
    margin-left: 25%;
  }
  #streams {
    position: relative;
    background-color: #673ab7;
    padding-left: 5px;
    color: white;
  }
  #twitch-embed {
    position: relative;
    width: 50vw;
    margin-left: 25vw;
  }
  #consent {
    position: relative;
    width: 50vw;
    height: 1200px;
    margin-left: 25vw;
    border: none;
    overflow-y: scroll;
  }
  #form {
    position: relative;
    width: 50vw;
    margin-left: 25vw;
    border: none;
  }
  @media screen and (max-width:1000px ) {
    .info {
      width: 100%;
      margin-left: 0;
    }
    #twitch-embed {
      width: 99vw;
      margin-left: 0;
    }
    #consent {
      width: 99vw;
      margin-left: 0;
    }
    #form {
      width: 99vw;
      margin-left: 0;
    }
  }
  </style>
</head>
  <body>
    <div class="info">
      <h1>ADCS Live Stream Viewer Hub</h1>
      <div id="streams">
        <h2>Upcoming Streams</h2>
        <p>No Scheduled streams, check back later</p>
      </div>
      <p>
        <b>Hello!</b>
        <br>
        <p>
            You are invited to participate in this study because you self-identify
            as an active live stream viewer, designer, or simply have a interest in
            participating in collaborative designing via live streams. Our research
            aims to understands how live stream platforms might support collaborative
            design activities between designers and live stream viewers. All live
            streams conducted by the ADCS Live Stream Design twitch account are a
            part of a study at Carnegie Mellon University. Your participation in
            this study is voluntary and uncompensated. Please view the consent form
            for further details. By choosing to remain on a stream you consent to
            the terms of the consent form and may be recorded.
            Your participation is appreciated!
        </p>
        <p style="color: red">
          All live streams viewed through this webpage are a part of a research study
          conducted by the ADCS at Carnegie Mellon University. Below is the consent form for your
          participation in this livestream. Please read it and confirm your consent.
          <b>DISCLAIMER:</b> By choosing to remain on this stream you consent to the terms below and may be recorded.
        </p>
        <u>Viewing Instructions</u><br>
        <ol>
          <li>
            <b>Twitch requires you to create an account in order to use the chat and extensions.
          Please <a href="https://www.twitch.tv/">create an account</a>, or click "Watch on Twitch" in the bottom right of the live stream screen, to login.</b>
          Once logged in and viewing on twitch, you'll be able to access the chat and extensions (located on the right side of the stream screen).
          For further questions message the chat and a moderator will assist you!
          </li>
          <li>
            Review the consent form on this page. By choosing to remain on this stream you consent to the terms below and may be recorded.
          </li>
          <li>
            Join the stream on <a href="https://www.twitch.tv/adcs_livestreamdesign" target="_blank" rel="noreferrer nopenner">twitch.tv</a>
            and partcipate as you see fit!
          </li>
          <li>
            Before exiting the live stream please complete the <a href="#form">Post Session Questionnaire</a>.
            <br>
            Your participation and feedback help us greatly!
          </li>
        </ol>
        With Gratitude,
        <br>ADCS Live Stream Design Team
      </p>
    </div>

    <!-- Twitch embed -->
    <!-- Add a placeholder for the Twitch embed -->
    <div id="twitch-embed"></div>

    <!-- consent form -->
    <iframe id="consent"
      src="https://docs.google.com/forms/d/e/1FAIpQLSezc6eDqVuQYXgpZvSPxZkmjcYdT2KvC4fMijF0VuRB4jxUFg/viewform?embedded=true"
      width="100%"
      height="1000">
      Loading…
    </iframe>
    <!-- Post session Viewer questionnaire -->
    <iframe id="form"
      src="https://docs.google.com/forms/d/e/1FAIpQLScMEkE6hlk8v7KFCioS9_MPQwsC0ZkARgyhzCNQJQVUcSRoOw/viewform?embedded=true"
      width="100%"
      height="1000">
      Loading…
    </iframe>

    <!-- Load the Twitch embed script -->
    <script src="https://embed.twitch.tv/embed/v1.js"></script>

    <!-- Create a Twitch.Embed object that will render within the "twitch-embed" element. -->
    <script type="text/javascript">
      var embed = new Twitch.Embed("twitch-embed", {
        width: "100%",
        height: 480,
        channel: "adcs_livestreamdesign",
        layout: "video",
        autoplay: false,
        // Only needed if this page is going to be embedded on other websites
        // parent: ["embed.example.com", "othersite.example.com"]
      });

      embed.addEventListener(Twitch.Embed.VIDEO_READY, () => {
        var player = embed.getPlayer();
        player.play();
      });
    </script>

    <!-- scroll to div -->
    <script>
      $(function() {
          $('a[href*=\\#]:not([href=\\#])').on('click', function() {
              var target = $(this.hash);
              target = target.length ? target : $('[name=' + this.hash.substr(1) +']');
              if (target.length) {
                  $('html,body').animate({
                      scrollTop: target.offset().top
                  }, 1000);
                  return false;
              }
          });
      });
    </script>
  </body>
</html>
